@require('./variables.styl')

.k-input
    font-size $input-font-size
    display inline-block
    width 100%
    vertical-align middle
    .k-wrapper
        display inline-block
        width 100%
        position relative
    .k-inner
        display inline-block
        width 100%
        font-size $input-font-size
        height $input-height
        border $input-border 
        padding $input-padding
        background-color $input-bg-color 
        color $input-color
        transition border .2s ease-in-out, background .2s ease-in-out, box-shadow .2s ease-in-out
        outline none
        &:focus
            border $input-focus-border
    // textarea
    .k-textarea
        padding $input-textarea-padding
        height auto
        line-height 1.5

    // prefix & suffix
    &.k-with-prefix
        .k-inner
            padding-left $input-prefix-padding 
    &.k-with-suffix
    &.k-clearable
        .k-inner
            padding-right $input-suffix-padding 
    .k-prefix
    .k-suffix
        position absolute
        top 50%
        transform translateY(-50%)
    .k-prefix
        left ($input-prefix-padding / 3)
    .k-suffix
        right ($input-suffix-padding / 3)

    // clearable
    .k-clear
        cursor pointer
        opacity 0
        transition opacity $transition
        &:hover
            color $primary-color
    &.k-with-suffix
        .k-clear
            margin-right $input-clear-margin-right
    &.k-with-suffix.k-clearable
        .k-inner
            padding-right $input-suffix-padding + $input-clear-margin-right * 3
    .k-inner:focus + .k-suffix .k-clear.k-show
    &:hover .k-clear.k-show
        opacity 1


    // group
    &.k-group
        display table
    .k-prepend
    .k-append
        display table-cell
        width 1px
        vertical-align middle
        padding 0 $input-group-padding-horizontal
        background $input-group-bg-color 
        border $input-border
        .k-btn
            margin s('-1px -%s', unit(($input-group-padding-horizontal * 14 + 1) / 14, em))
            border-radius 0
    .k-prepend
        border-right none
    .k-append
        border-left none

    // disabled
    &.k-disabled
        color $input-disabled-color
        cursor not-allowed
        .k-inner
            color $input-disabled-color
            border-color $input-disabled-border-color
            background $input-disabled-bg-color
            cursor not-allowed
    
    // size
    &.k-small
        font-size $input-small-font-size
        .k-inner
            height $input-small-height
            font-size $input-small-font-size

