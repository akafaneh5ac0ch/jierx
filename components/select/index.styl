@require('./variables.styl');

.k-select
    display inline-block
    vertical-align middle
    position relative
    width $select-width
    > .k-wrapper
        width 100%
        min-height $select-height
        // line-height s('calc(%s - 2px)', @min-height)
        cursor pointer
        outline none
        vertical-align middle
        border $select-border 
        padding 0 $select-padding-right 0 $select-padding-left
        background $select-bg-color
        transition border $transition, background $transition, box-shadow $transition 
    .k-suffix
        position absolute
        top 50%
        transform translateY(-50%)
        // line-height 1
        right ($select-padding-right / 3)

    // fluid
    &.k-fluid
        width 100%

    // clearable
    .k-clear
        margin-right $select-clear-margin-right
        opacity 0
        transition opacity $transition
        pointer-events none
        &:hover
            color $primary-color
    &:hover
        .k-clear.k-show
            opacity 1
            pointer-events all
    &.k-clearable
        > .k-wrapper
            padding-right ($select-padding-right + $select-clear-margin-right * 3)

    // filterable
    .k-input
        .k-inner
            width 100%
            height s('calc(%s - 2px)', $select-height)
            border none !important
            padding 0
            &:focus
                border none

    .k-placeholder
        // display inline-block
        color $select-placeholder-color

    .k-input
    .k-placeholder
    .k-value
        line-height s('calc(%s - 2px)', $select-height)
    .k-placeholder
    .k-value
        display block

    // arrow
    .k-arrow
        display inline-block
        transition transform $transition

    // show
    &.k-show
        > .k-wrapper
            border $select-focus-border
        .k-arrow
            transform rotate(180deg)
    &:focus
        outline none
        > .k-wrapper
            border $select-focus-border

    // disabled
    &.k-disabled
        > .k-wrapper
            color $select-disabled-color
            cursor not-allowed
            background $select-disabled-bg-color
            border-color $select-disabled-border-color
        .k-input
            color $select-disabled-color
            background $select-disabled-bg-color
            cursor not-allowed

    // multiple
    .k-values
        display inline-block
        margin-top $select-multiple-values-margin 
        .k-input
            margin-top -($select-multiple-values-margin) 
    .k-tag
        padding $select-multiple-tag-padding 
        background $disabled-bg-color
        // border 1px solid $disabled-border-color
        border-radius $select-multiple-tag-border-radius 
        margin $select-multiple-tag-margin 
        &
        .k-text
        .k-icon
            display inline-block
            vertical-align middle
        .k-icon
            margin-left $select-multiple-tag-delete-icon-margin-left 
            &:before
                font-size $select-multiple-tag-delete-icon-font-size 

    // size
    for size in small mini
        &.k-{size}
            font-size lookup('$select-' + size + '-font-size')
            > .k-wrapper
                min-height lookup('$select-' + size + '-height')
                .k-input
                .k-placeholder
                .k-value
                    line-height s('calc(%s - 2px)', lookup('$select-' + size + '-height'))
                .k-input
                    .k-inner
                        height s('calc(%s - 2px)', lookup('$select-' + size + '-height'))
                .k-values
                    margin-top lookup('$select-' + size + '-multiple-values-margin')
                    .k-input
                        margin-top -(lookup('$select-' + size + '-multiple-values-margin')) 
                .k-tag
                    margin lookup('$select-' + size + '-multiple-tag-margin')

.k-select-dropdown
    min-width auto
    max-height $select-dropdown-max-height
    overflow auto
    .k-active
        color $primary-color

    // group
    .k-group
        > .k-label
            color $select-group-label-color
            padding $select-group-label-padding

@import $theme-dir + '/select.styl' if exists($theme-dir + '/select.styl') 
